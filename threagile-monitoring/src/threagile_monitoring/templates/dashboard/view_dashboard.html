{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}{{ dashboard.title }}{% endblock %}</h1>
{% endblock %}

{% block content %}
<div class="container mx-auto p-6">
    <div class="bg-white">
        <div class="mb-6">
            <h2 class="text-xl font-bold mb-2">{{ dashboard.title }}</h2>
            <p class="text-gray-700">{{ dashboard.description or 'No description provided' }}</p>
        </div>

        <!-- React root div with dashboard ID -->
        <div id="root" data-dashboard-id="{{ dashboard.id }}"></div>

        <div class="flex gap-4 mt-6">
            <a href="{{ url_for('dashboard.edit_dashboard_route', dashboard_id=dashboard.id) }}" 
               class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                Edit
            </a>
            <form action="{{ url_for('dashboard.delete_dashboard_route', dashboard_id=dashboard.id) }}" 
                  method="POST" 
                  class="inline"
                  onsubmit="return confirm('Are you sure you want to delete this dashboard?');">
                <button type="submit" 
                        class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
                    Delete
                </button>
            </form>
            <a href="{{ url_for('dashboard.list_dashboards') }}" 
               class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">
                Back to List
            </a>
        </div>
    </div>
</div>
{% endblock %}
